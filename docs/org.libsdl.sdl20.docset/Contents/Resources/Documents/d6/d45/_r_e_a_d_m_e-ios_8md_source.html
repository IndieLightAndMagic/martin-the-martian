<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDL: README-ios.md Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDL
   &#160;<span id="projectnumber">2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README-ios.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d6/d45/_r_e_a_d_m_e-ios_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;iOS</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;======</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;==============================================================================</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;Building the Simple DirectMedia Layer for iOS 5.1+</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;==============================================================================</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;Requirements: Mac OS X 10.8 or later and the iOS 7+ SDK.</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;Instructions:</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;1.  Open SDL.xcodeproj (located in Xcode-iOS/SDL) in Xcode.</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;2.  Select your desired target, and hit build.</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;There are three build targets:</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;- libSDL.a:</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;   Build SDL as a statically linked library</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;- testsdl:</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;   Build a test program (there are known test failures which are fine)</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;- Template:</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;   Package a project template together with the SDL for iPhone static libraries and copies of the SDL headers.  The template includes proper references to the SDL library and headers, skeleton code for a basic SDL program, and placeholder graphics for the application icon and startup screen.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;==============================================================================</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;Build SDL for iOS from the command line</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;==============================================================================</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;1. cd (PATH WHERE THE SDL CODE IS)/build-scripts</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;2. ./iosbuild.sh</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;If everything goes fine, you should see a build/ios directory, inside there&#39;s</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;two directories &quot;lib&quot; and &quot;include&quot;. </div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;&quot;include&quot; contains a copy of the SDL headers that you&#39;ll need for your project,</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;make sure to configure XCode to look for headers there.</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;&quot;lib&quot; contains find two files, libSDL2.a and libSDL2main.a, you have to add both </div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;to your XCode project. These libraries contain three architectures in them,</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;armv6 for legacy devices, armv7, and i386 (for the simulator).</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;By default, iosbuild.sh will autodetect the SDK version you have installed using </div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;xcodebuild -showsdks, and build for iOS &gt;= 3.0, you can override this behaviour </div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;by setting the MIN_OS_VERSION variable, ie:</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;MIN_OS_VERSION=4.2 ./iosbuild.sh</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;==============================================================================</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;Using the Simple DirectMedia Layer for iOS</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;==============================================================================</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;FIXME: This needs to be updated for the latest methods</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;Here is the easiest method:</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;1.  Build the SDL library (libSDL2.a) and the iPhone SDL Application template.</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;2.  Install the iPhone SDL Application template by copying it to one of Xcode&#39;s template directories.  I recommend creating a directory called &quot;SDL&quot; in &quot;/Developer/Platforms/iOS.platform/Developer/Library/Xcode/Project Templates/&quot; and placing it there.</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;3.  Start a new project using the template.  The project should be immediately ready for use with SDL.</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;Here is a more manual method:</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;1.  Create a new iOS view based application.</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;2.  Build the SDL static library (libSDL2.a) for iOS and include them in your project.  Xcode will ignore the library that is not currently of the correct architecture, hence your app will work both on iOS and in the iOS Simulator.</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;3.  Include the SDL header files in your project.</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;4.  Remove the ApplicationDelegate.h and ApplicationDelegate.m files -- SDL for iOS provides its own UIApplicationDelegate.  Remove MainWindow.xib -- SDL for iOS produces its user interface programmatically.</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;5.  Delete the contents of main.m and program your app as a regular SDL program instead.  You may replace main.m with your own main.c, but you must tell Xcode not to use the project prefix file, as it includes Objective-C code.</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;==============================================================================</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;Notes -- Retina / High-DPI and window sizes</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;==============================================================================</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;Window and display mode sizes in SDL are in &quot;screen coordinates&quot; (or &quot;points&quot;,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;in Apple&#39;s terminology) rather than in pixels. On iOS this means that a window</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;created on an iPhone 6 will have a size in screen coordinates of 375 x 667,</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;rather than a size in pixels of 750 x 1334. All iOS apps are expected to</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;size their content based on screen coordinates / points rather than pixels,</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;as this allows different iOS devices to have different pixel densities</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;(Retina versus non-Retina screens, etc.) without apps caring too much.</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;By default SDL will not use the full pixel density of the screen on</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;Retina/high-dpi capable devices. Use the SDL_WINDOW_ALLOW_HIGHDPI flag when</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;creating your window to enable high-dpi support.</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;When high-dpi support is enabled, SDL_GetWindowSize() and display mode sizes</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;will still be in &quot;screen coordinates&quot; rather than pixels, but the window will</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;have a much greater pixel density when the device supports it, and the</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;SDL_GL_GetDrawableSize() or SDL_GetRendererOutputSize() functions (depending on</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;whether raw OpenGL or the SDL_Render API is used) can be queried to determine</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;the size in pixels of the drawable screen framebuffer.</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;Some OpenGL ES functions such as glViewport expect sizes in pixels rather than</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;sizes in screen coordinates. When doing 2D rendering with OpenGL ES, an</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;orthographic projection matrix using the size in screen coordinates</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;(SDL_GetWindowSize()) can be used in order to display content at the same scale</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;no matter whether a Retina device is used or not.</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;==============================================================================</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;Notes -- Application events</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;==============================================================================</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;On iOS the application goes through a fixed life cycle and you will get</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;notifications of state changes via application events. When these events</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;are delivered you must handle them in an event callback because the OS may</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;not give you any processing time after the events are delivered.</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;e.g.</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    int HandleAppEvents(void *userdata, SDL_Event *event)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        switch (event-&gt;type)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        case SDL_APP_TERMINATING:</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            /* Terminate the app.</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;               Shut everything down before returning from this function.</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            */</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            return 0;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        case SDL_APP_LOWMEMORY:</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            /* You will get this when your app is paused and iOS wants more memory.</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;               Release as much memory as possible.</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            */</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            return 0;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        case SDL_APP_WILLENTERBACKGROUND:</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            /* Prepare your app to go into the background.  Stop loops, etc.</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;               This gets called when the user hits the home button, or gets a call.</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            */</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            return 0;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        case SDL_APP_DIDENTERBACKGROUND:</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            /* This will get called if the user accepted whatever sent your app to the background.</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;               If the user got a phone call and canceled it, you&#39;ll instead get an SDL_APP_DIDENTERFOREGROUND event and restart your loops.</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;               When you get this, you have 5 seconds to save all your state or the app will be terminated.</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;               Your app is NOT active at this point.</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            */</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            return 0;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        case SDL_APP_WILLENTERFOREGROUND:</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            /* This call happens when your app is coming back to the foreground.</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;               Restore all your state here.</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            */</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            return 0;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        case SDL_APP_DIDENTERFOREGROUND:</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            /* Restart your loops here.</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;               Your app is interactive and getting CPU again.</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            */</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            return 0;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        default:</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            /* No special processing, add it to the event queue */</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            return 1;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    </div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    int main(int argc, char *argv[])</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        SDL_SetEventFilter(HandleAppEvents, NULL);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    </div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        ... run your main loop</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    </div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        return 0;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    </div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;==============================================================================</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;Notes -- Accelerometer as Joystick</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;==============================================================================</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;SDL for iPhone supports polling the built in accelerometer as a joystick device.  For an example on how to do this, see the accelerometer.c in the demos directory.</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;The main thing to note when using the accelerometer with SDL is that while the iPhone natively reports accelerometer as floating point values in units of g-force, SDL_JoystickGetAxis() reports joystick values as signed integers.  Hence, in order to convert between the two, some clamping and scaling is necessary on the part of the iPhone SDL joystick driver.  To convert SDL_JoystickGetAxis() reported values BACK to units of g-force, simply multiply the values by SDL_IPHONE_MAX_GFORCE / 0x7FFF.</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;==============================================================================</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;Notes -- OpenGL ES</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;==============================================================================</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;Your SDL application for iOS uses OpenGL ES for video by default.</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;OpenGL ES for iOS supports several display pixel formats, such as RGBA8 and RGB565, which provide a 32 bit and 16 bit color buffer respectively. By default, the implementation uses RGB565, but you may use RGBA8 by setting each color component to 8 bits in SDL_GL_SetAttribute().</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;If your application doesn&#39;t use OpenGL&#39;s depth buffer, you may find significant performance improvement by setting SDL_GL_DEPTH_SIZE to 0.</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;Finally, if your application completely redraws the screen each frame, you may find significant performance improvement by setting the attribute SDL_GL_RETAINED_BACKING to 0.</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;OpenGL ES on iOS doesn&#39;t use the traditional system-framebuffer setup provided in other operating systems. Special care must be taken because of this:</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;- The drawable Renderbuffer must be bound to the GL_RENDERBUFFER binding point when SDL_GL_SwapWindow() is called.</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;- The drawable Framebuffer Object must be bound while rendering to the screen and when SDL_GL_SwapWindow() is called.</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;- If multisample antialiasing (MSAA) is used and glReadPixels is used on the screen, the drawable framebuffer must be resolved to the MSAA resolve framebuffer (via glBlitFramebuffer or glResolveMultisampleFramebufferAPPLE), and the MSAA resolve framebuffer must be bound to the GL_READ_FRAMEBUFFER binding point, before glReadPixels is called.</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;The above objects can be obtained via SDL_GetWindowWMInfo() (in SDL_syswm.h).</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;==============================================================================</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;Notes -- Keyboard</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;==============================================================================</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;The SDL keyboard API has been extended to support on-screen keyboards:</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;void SDL_StartTextInput()</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   -- enables text events and reveals the onscreen keyboard.</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;void SDL_StopTextInput()</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   -- disables text events and hides the onscreen keyboard.</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;SDL_bool SDL_IsTextInputActive()</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   -- returns whether or not text events are enabled (and the onscreen keyboard is visible)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;==============================================================================</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;Notes -- Reading and Writing files</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;==============================================================================</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;Each application installed on iPhone resides in a sandbox which includes its own Application Home directory.  Your application may not access files outside this directory.</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;Once your application is installed its directory tree looks like:</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    MySDLApp Home/</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        MySDLApp.app</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        Documents/</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        Library/</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            Preferences/</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        tmp/</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;When your SDL based iPhone application starts up, it sets the working directory to the main bundle (MySDLApp Home/MySDLApp.app), where your application resources are stored.  You cannot write to this directory.  Instead, I advise you to write document files to &quot;../Documents/&quot; and preferences to &quot;../Library/Preferences&quot;.  </div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;More information on this subject is available here:</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;http://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/Introduction/Introduction.html</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;==============================================================================</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;Notes -- iPhone SDL limitations</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;==============================================================================</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;Windows:</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   Full-size, single window applications only.  You cannot create multi-window SDL applications for iPhone OS.  The application window will fill the display, though you have the option of turning on or off the menu-bar (pass SDL_CreateWindow() the flag SDL_WINDOW_BORDERLESS).</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;Textures:</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   The optimal texture formats on iOS are SDL_PIXELFORMAT_ABGR8888, SDL_PIXELFORMAT_ABGR8888, SDL_PIXELFORMAT_BGR888, and SDL_PIXELFORMAT_RGB24 pixel formats.</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;Loading Shared Objects:</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   This is disabled by default since it seems to break the terms of the iOS SDK agreement for iOS versions prior to iOS 8. It can be re-enabled in SDL_config_iphoneos.h.</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;==============================================================================</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;Game Center </div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;==============================================================================</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;Game Center integration might require that you break up your main loop in order to yield control back to the system. In other words, instead of running an endless main loop, you run each frame in a callback function, using:</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    int SDL_iPhoneSetAnimationCallback(SDL_Window * window, int interval, void (*callback)(void*), void *callbackParam);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;This will set up the given function to be called back on the animation callback, and then you have to return from main() to let the Cocoa event loop run.</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;e.g.</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    extern &quot;C&quot;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    void ShowFrame(void*)</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        ... do event handling, frame logic and rendering ...</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    </div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    int main(int argc, char *argv[])</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        ... initialize game ...</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    </div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    #if __IPHONEOS__</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        // Initialize the Game Center for scoring and matchmaking</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        InitGameCenter();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    </div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        // Set up the game to run in the window animation callback on iOS</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        // so that Game Center and so forth works correctly.</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        SDL_iPhoneSetAnimationCallback(window, 1, ShowFrame, NULL);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    #else</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        while ( running ) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            ShowFrame(0);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            DelayFrame();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    #endif</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        return 0;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;==============================================================================</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;Deploying to older versions of iOS</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;==============================================================================</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;SDL supports deploying to older versions of iOS than are supported by the latest version of Xcode, all the way back to iOS 6.1</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;In order to do that you need to download an older version of Xcode:</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;https://developer.apple.com/download/more/?name=Xcode</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;Open the package contents of the older Xcode and your newer version of Xcode and copy over the folders in Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;Then open the file Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/SDKSettings.plist and add the versions of iOS you want to deploy to the key Root/DefaultProperties/DEPLOYMENT_TARGET_SUGGESTED_VALUES</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;Open your project and set your deployment target to the desired version of iOS</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;Finally, remove GameController from the list of frameworks linked by your application and edit the build settings for &quot;Other Linker Flags&quot; and add -weak_framework GameController</div></div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
